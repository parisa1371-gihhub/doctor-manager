{% extends 'base.html' %}
{% load static %}

{% block title %}تنظیمات - سیستم مدیریت بیماران{% endblock %}
{% block page_title %}تنظیمات{% endblock %}
{% block page_subtitle %}مدیریت تنظیمات سیستم و پروفایل{% endblock %}

{% block content %}
<div style="padding: 2rem;">
    <!-- Header Section -->
    <div style="background: linear-gradient(to right, #f0f9ff, #e0f2fe); border-radius: 1rem; padding: 1.5rem; border: 1px solid #bae6fd; margin-bottom: 2rem;">
        <div style="display: flex; align-items: center; justify-content: space-between;">
            <div>
                <h2 style="font-size: 1.5rem; font-weight: bold; color: #111827; margin-bottom: 0.5rem;">تنظیمات سیستم</h2>
                <p style="color: #6b7280;">مدیریت تنظیمات پروفایل و سیستم</p>
            </div>
        </div>
    </div>

    <!-- Settings Sections -->
    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(400px, 1fr)); gap: 2rem;">
        
        <!-- Profile Settings -->
        <div style="background: white; border-radius: 0.75rem; padding: 1.5rem; box-shadow: 0 1px 3px rgba(0,0,0,0.1);">
            <div style="display: flex; align-items: center; margin-bottom: 1.5rem;">
                <div style="width: 2rem; height: 2rem; background: #e0f2fe; border-radius: 0.5rem; display: flex; align-items: center; justify-content: center; margin-left: 0.75rem;">
                    <i data-lucide="user" style="width: 1.25rem; height: 1.25rem; color: #0284c7;"></i>
                </div>
                <h3 style="font-size: 1.125rem; font-weight: 600; color: #374151;">پروفایل پزشک</h3>
            </div>
            
            <div style="display: flex; flex-direction: column; gap: 1rem;">
                <div style="display: flex; align-items: center; justify-content: space-between; padding: 1rem; background: #f8fafc; border-radius: 0.5rem;">
                    <div>
                        <p style="font-weight: 500; color: #111827; margin: 0;">نام کاربری</p>
                        <p style="font-size: 0.875rem; color: #6b7280; margin: 0;">{{ user.username }}</p>
                    </div>
                    <i data-lucide="edit" style="width: 1rem; height: 1rem; color: #9ca3af;"></i>
                </div>
                
                <div style="display: flex; align-items: center; justify-content: space-between; padding: 1rem; background: #f8fafc; border-radius: 0.5rem;">
                    <div>
                        <p style="font-weight: 500; color: #111827; margin: 0;">نام کامل</p>
                        <p style="font-size: 0.875rem; color: #6b7280; margin: 0;">{{ user.get_full_name|default:"تعریف نشده" }}</p>
                    </div>
                    <i data-lucide="edit" style="width: 1rem; height: 1rem; color: #9ca3af;"></i>
                </div>
                
                <div style="display: flex; align-items: center; justify-content: space-between; padding: 1rem; background: #f8fafc; border-radius: 0.5rem;">
                    <div>
                        <p style="font-weight: 500; color: #111827; margin: 0;">ایمیل</p>
                        <p style="font-size: 0.875rem; color: #6b7280; margin: 0;">{{ user.email|default:"تعریف نشده" }}</p>
                    </div>
                    <i data-lucide="edit" style="width: 1rem; height: 1rem; color: #9ca3af;"></i>
                </div>
            </div>
        </div>

        <!-- System Settings -->
        <div style="background: white; border-radius: 0.75rem; padding: 1.5rem; box-shadow: 0 1px 3px rgba(0,0,0,0.1);">
            <div style="display: flex; align-items: center; margin-bottom: 1.5rem;">
                <div style="width: 2rem; height: 2rem; background: #dcfce7; border-radius: 0.5rem; display: flex; align-items: center; justify-content: center; margin-left: 0.75rem;">
                    <i data-lucide="settings" style="width: 1.25rem; height: 1.25rem; color: #16a34a;"></i>
                </div>
                <h3 style="font-size: 1.125rem; font-weight: 600; color: #374151;">تنظیمات سیستم</h3>
            </div>
            
            <div style="display: flex; flex-direction: column; gap: 1rem;">
                <div style="display: flex; align-items: center; justify-content: space-between; padding: 1rem; background: #f8fafc; border-radius: 0.5rem;">
                    <div>
                        <p style="font-weight: 500; color: #111827; margin: 0;">زبان سیستم</p>
                        <p style="font-size: 0.875rem; color: #6b7280; margin: 0;">فارسی</p>
                    </div>
                    <i data-lucide="globe" style="width: 1rem; height: 1rem; color: #9ca3af;"></i>
                </div>
                
                <div style="display: flex; align-items: center; justify-content: space-between; padding: 1rem; background: #f8fafc; border-radius: 0.5rem;">
                    <div>
                        <p style="font-weight: 500; color: #111827; margin: 0;">فرمت تاریخ</p>
                        <p style="font-size: 0.875rem; color: #6b7280; margin: 0;">شمسی (YYYY/MM/DD)</p>
                    </div>
                    <i data-lucide="calendar" style="width: 1rem; height: 1rem; color: #9ca3af;"></i>
                </div>
                
                <div style="display: flex; align-items: center; justify-content: space-between; padding: 1rem; background: #f8fafc; border-radius: 0.5rem;">
                    <div>
                        <p style="font-weight: 500; color: #111827; margin: 0;">وضعیت اعلان‌ها</p>
                        <p style="font-size: 0.875rem; color: #6b7280; margin: 0;">فعال</p>
                    </div>
                    <i data-lucide="bell" style="width: 1rem; height: 1rem; color: #9ca3af;"></i>
                </div>
            </div>
        </div>

        <!-- Security Settings -->
        <div style="background: white; border-radius: 0.75rem; padding: 1.5rem; box-shadow: 0 1px 3px rgba(0,0,0,0.1);">
            <div style="display: flex; align-items: center; margin-bottom: 1.5rem;">
                <div style="width: 2rem; height: 2rem; background: #fef3c7; border-radius: 0.5rem; display: flex; align-items: center; justify-content: center; margin-left: 0.75rem;">
                    <i data-lucide="shield" style="width: 1.25rem; height: 1.25rem; color: #d97706;"></i>
                </div>
                <h3 style="font-size: 1.125rem; font-weight: 600; color: #374151;">امنیت</h3>
            </div>
            
            <div style="display: flex; flex-direction: column; gap: 1rem;">
                <a href="{% url 'admin:password_change' %}" style="display: flex; align-items: center; justify-content: space-between; padding: 1rem; background: #f8fafc; border-radius: 0.5rem; text-decoration: none; border: 1px solid #e2e8f0; transition: all 0.2s;">
                    <div>
                        <p style="font-weight: 500; color: #111827; margin: 0;">تغییر رمز عبور</p>
                        <p style="font-size: 0.875rem; color: #6b7280; margin: 0;">به‌روزرسانی رمز عبور</p>
                    </div>
                    <i data-lucide="key" style="width: 1rem; height: 1rem; color: #9ca3af;"></i>
                </a>
                
                <div style="display: flex; align-items: center; justify-content: space-between; padding: 1rem; background: #f8fafc; border-radius: 0.5rem;">
                    <div>
                        <p style="font-weight: 500; color: #111827; margin: 0;">آخرین ورود</p>
                        <p style="font-size: 0.875rem; color: #6b7280; margin: 0;">{{ user.last_login|date:"Y/m/d H:i"|default:"نامشخص" }}</p>
                    </div>
                    <i data-lucide="clock" style="width: 1rem; height: 1rem; color: #9ca3af;"></i>
                </div>
            </div>
        </div>

        <!-- Data Management -->
        <div style="background: white; border-radius: 0.75rem; padding: 1.5rem; box-shadow: 0 1px 3px rgba(0,0,0,0.1);">
            <div style="display: flex; align-items: center; margin-bottom: 1.5rem;">
                <div style="width: 2rem; height: 2rem; background: #e0e7ff; border-radius: 0.5rem; display: flex; align-items: center; justify-content: center; margin-left: 0.75rem;">
                    <i data-lucide="database" style="width: 1.25rem; height: 1.25rem; color: #6366f1;"></i>
                </div>
                <h3 style="font-size: 1.125rem; font-weight: 600; color: #374151;">مدیریت داده‌ها</h3>
            </div>
            
            <div style="display: flex; flex-direction: column; gap: 1rem;">
                <a href="{% url 'admin:index' %}" style="display: flex; align-items: center; justify-content: space-between; padding: 1rem; background: #f8fafc; border-radius: 0.5rem; text-decoration: none; border: 1px solid #e2e8f0; transition: all 0.2s;">
                    <div>
                        <p style="font-weight: 500; color: #111827; margin: 0;">پنل مدیریت</p>
                        <p style="font-size: 0.875rem; color: #6b7280; margin: 0;">دسترسی به پنل ادمین</p>
                    </div>
                    <i data-lucide="settings-2" style="width: 1rem; height: 1rem; color: #9ca3af;"></i>
                </a>
                
                <div style="display: flex; align-items: center; justify-content: space-between; padding: 1rem; background: #f8fafc; border-radius: 0.5rem;">
                    <div>
                        <p style="font-weight: 500; color: #111827; margin: 0;">پشتیبان‌گیری</p>
                        <p style="font-size: 0.875rem; color: #6b7280; margin: 0;">در حال توسعه</p>
                    </div>
                    <i data-lucide="download" style="width: 1rem; height: 1rem; color: #9ca3af;"></i>
                </div>
            </div>
        </div>
    </div>

    <!-- System Information -->
    <div style="background: white; border-radius: 0.75rem; padding: 1.5rem; margin-top: 2rem; box-shadow: 0 1px 3px rgba(0,0,0,0.1);">
        <div style="display: flex; align-items: center; margin-bottom: 1.5rem;">
            <div style="width: 2rem; height: 2rem; background: #f3f4f6; border-radius: 0.5rem; display: flex; align-items: center; justify-content: center; margin-left: 0.75rem;">
                <i data-lucide="info" style="width: 1.25rem; height: 1.25rem; color: #6b7280;"></i>
            </div>
            <h3 style="font-size: 1.125rem; font-weight: 600; color: #374151;">اطلاعات سیستم</h3>
        </div>
        
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1rem;">
            <div style="padding: 1rem; background: #f8fafc; border-radius: 0.5rem;">
                <p style="font-weight: 500; color: #111827; margin: 0 0 0.25rem 0;">نسخه سیستم</p>
                <p style="font-size: 0.875rem; color: #6b7280; margin: 0;">1.0.0</p>
            </div>
            
            <div style="padding: 1rem; background: #f8fafc; border-radius: 0.5rem;">
                <p style="font-weight: 500; color: #111827; margin: 0 0 0.25rem 0;">Django Version</p>
                <p style="font-size: 0.875rem; color: #6b7280; margin: 0;">5.1.7</p>
            </div>
            
            <div style="padding: 1rem; background: #f8fafc; border-radius: 0.5rem;">
                <p style="font-weight: 500; color: #111827; margin: 0 0 0.25rem 0;">وضعیت</p>
                <p style="font-size: 0.875rem; color: #16a34a; margin: 0;">فعال</p>
            </div>
        </div>
    </div>
</div>

<script>
document.addEventListener('DOMContentLoaded', function() {
    // Initialize Lucide icons
    lucide.createIcons();
});
</script>
{% endblock %}
